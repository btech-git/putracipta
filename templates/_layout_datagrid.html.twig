{% block datagrid_form %}
    {{ form_start(form) }}
        {{ form_widget(form, {'attr': {'class': 'd-inline'}}) }}
        <button class="btn btn-outline-dark btn-sm">{{ button_label|default('Submit') }}</button>
    {{ form_end(form) }}
{% endblock %}

{% block datagrid_info %}
    {% if count > 0 %}
        {% set size = form.vars.value.pagination.size %}
        {% set number = form.vars.value.pagination.number %}
        {% set start = min(size * (number - 1) + 1, count) %}
        {% set end = min(size * number, count) %}

        <div class="small d-flex justify-content-end">
            Showing {{ start }} - {{ end }} of {{ count }} item(s).
        </div>
    {% endif %}
{% endblock %}

{% block datagrid_table %}{% endblock %}

{% block datagrid_navigation %}
    {% set size = form.vars.value.pagination.size %}
    {% if count > 0 and size > 0 %}
        {% set last = (count / size)|round(0, 'ceil') %}

        {% if last > 1 %}
            {% set current = form.vars.value.pagination.number %}
            {% set offset = 2 %}

            <ul class="pagination pagination-sm justify-content-end" style="margin: 0">
                <li class="page-item {%- if (current == 1) %} disabled {%- endif %}">
                    <a class="page-link" data-ordinal="1" href="#">&laquo; First</a>
                </li>
                <li class="page-item {%- if (current == 1) %} disabled {%- endif %}">
                    <a class="page-link" data-ordinal="{{ current - 1 }}" href="#">&lsaquo; Previous</a>
                </li>
                {% for i in current-offset..current+offset %}
                    {% if (i >= 1 and i <= last) %}
                        <li class="page-item {%- if (current == i) %} active {%- endif %}">
                            <a class="page-link" data-ordinal="{{ i }}" href="#">{{ i }}</a>
                        </li>
                    {% endif %}
                {% endfor %}
                <li class="page-item {%- if (current == last) %} disabled {%- endif %}">
                    <a class="page-link" data-ordinal="{{ current + 1 }}" href="#">Next &rsaquo;</a>
                </li>
                <li class="page-item {%- if (current == last) %} disabled {%- endif %}">
                    <a class="page-link" data-ordinal="{{ last }}" href="#">Last &raquo;</a>
                </li>
            </ul>
        {% endif %}
    {% endif %}
{% endblock %}
