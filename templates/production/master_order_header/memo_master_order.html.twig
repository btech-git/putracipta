{% extends 'base.html.twig' %}

{% block title 'Memo' %}

{% block body %}
    <div class="memo">
        <div class="note" style="font-size: 10px">
            <div class="table full">
                <div class="cell col">
                    <div class="table full">
                        <div class="row">
                            <div class="cell label"><img id="logo" alt="logo" max-height="300px" src="{{ asset('images/Logo.jpg') }}"></div>
                        </div>
                    </div>
                </div>
                <div class="cell col">
                    <div class="table full">
                        <div class="row">
                            <div class="cell label" style="font-size: 14px; text-align: center">FORMULIR</div>
                        </div>
                        <div class="row">
                            <div class="cell label" style="font-size: 18px; text-align: center">MASTER ORDER</div>
                        </div>
                    </div>
                </div>
                <div class="cell col">
                    <div class="table full">
                        <div class="row">
                                <div class="cell label">No Dokumen</div>
                                <div class="cell label">:</div>
                                <div class="cell label">F/PCK/PPIC/8.1-1</div>
                        </div>
                        <div class="row">
                                <div class="cell label">Revisi</div>
                                <div class="cell label">:</div>
                                <div class="cell label">0</div>
                        </div>
                        <div class="row">
                                <div class="cell label">Tanggal</div>
                                <div class="cell label">:</div>
                                <div class="cell label"></div>
                        </div>
                        <div class="row">
                                <div class="cell label">Halaman</div>
                                <div class="cell label">:</div>
                                <div class="cell label">1 dari 1</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <hr />
        
        <div class="note">
            <div class="table full">
                <div class="cell col">
                    <div class="table full">
                        <div class="row">
                            <div class="cell label">No MO</div>
                            <div class="cell value">{{ masterOrderHeader.getCodeNumber|default }}</div>
                        </div>
                        <div class="row">
                            <div class="cell label">Mesin Cetak:</div>
                            <div class="cell value">{{ masterOrderHeader.machinePrinting.name|default }}</div>
                        </div>
                        <div class="row">
                            <div class="cell label">Nama Customer</div>
                            <div class="cell value">{{ masterOrderHeader.customer.company|default }}</div>
                        </div>
                        <div class="row">
                            <div class="cell label">Warna / Pantone</div>
                            <div class="cell value">{{ masterOrderHeader.color }} / {{ masterOrderHeader.pantone }} + {{ masterOrderHeader.colorPantoneAdditional }}</div>
                        </div>
                        <div class="row">
                            <div class="cell label">Coating</div>
                            <div class="cell value">{{ masterOrderHeader.finishing|default }}</div>
                        </div>
                        <div class="row">
                            <div class="cell label">Material Kertas</div>
                            <div class="cell value">{{ masterOrderHeader.paper.paperNameSizeCombination|default }} Gram</div>
                        </div>
                        <div class="row">
                            <div class="cell label">Jumlah Up Cetak</div>
                            <div class="cell value">{{ masterOrderHeader.quantityPrinting }} & {{ masterOrderHeader.quantityPrinting2 }} Up/s</div>
                        </div>
                        <div class="row">
                            <div class="cell label">Ukuran Mountage/Kris</div>
                            <div class="cell value">{{ masterOrderHeader.mountageSize }} cm</div>
                        </div>
                        <div class="row">
                            <div class="cell label">Hot Stamping</div>
                            <div class="cell value">{{ masterOrderHeader.hotStamping }}</div>
                        </div>
                    </div>
                </div>
                        
                <div class="cell col">
                    <div class="table full">
                        <div class="row">
                            <div class="cell label">Jenis</div>
                            <div class="cell value">{{ masterOrderHeader.orderType|default }}</div>
                        </div>
                        <div class="row">
                            <div class="cell label">Tanggal MO</div>
                            <div class="cell value">{{ masterOrderHeader.transactionDate ? masterOrderHeader.transactionDate|date('d M Y') : '' }}</div>
                        </div>
                        <div class="row">
                            <div class="cell label">Berat per pcs</div>
                            <div class="cell value">{{ masterOrderHeader.weightPerPiece|default }}</div>
                        </div>
                        <div class="row">
                            <div class="cell label">Glossiness</div>
                            <div class="cell value">{{ masterOrderHeader.glossiness|default }}</div>
                        </div>
                        <div class="row">
                            <div class="cell label">Status Cetakan</div>
                            <div class="cell value">{{ masterOrderHeader.printingStatus ? masterOrderHeader.printingStatus|join(', ') : '' }}</div>
                        </div>
                        <div class="row">
                            <div class="cell label">Design Code</div>
                            <div class="cell value">{{ masterOrderHeader.designCode.codeNumber|default }}</div>
                        </div>
                        <div class="row">
                            <div class="cell label">Pisau Die Cut</div>
                            <div class="cell value">{{ masterOrderHeader.dieCutBlade }}</div>
                        </div>
                        <div class="row">
                            <div class="cell label">No. Pisau Die Cut</div>
                            <div class="cell value">{{ masterOrderHeader.diecutKnife.codeNumber|default }}</div>
                        </div>
                        <div class="row">
                            <div class="cell label">No. Film Dieline Die Cut (Millar)</div>
                            <div class="cell value">{{ masterOrderHeader.dielineMillar.codeNumber|default }}</div>
                        </div>
                    </div>
                </div>
            </div>
                     
            <div class="table full">
                <div class="row">
                    <div class="cell label">Model Layout : </div>
                    <div><img id="upload" width="128px" alt="Layout Model Image" src="{{ asset('uploads/master-order/' ~ masterOrderHeader.id ~ '.' ~ masterOrderHeader.layoutModelFileExtension) }}"></div>
                </div>
            </div>
                     
            <div class="table full">
                <div class="row">
                    <table  class="detail">
                        <thead>
                            <tr>
                                <th>PO#</th>
                                <th>Kode</th>
                                <th>Nama</th>
                                <th>P (mm)</th>
                                <th>L (mm)</th>
                                <th>T (mm)</th>
                                <th>Tgl Kirim</th>
                                <th>Qty Order</th>
                                <th>Stock</th>
                                <th>Kekurangan</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for masterOrderProductDetail in masterOrderHeader.masterOrderProductDetails %}
                                <tr>
                                    <td>{{ masterOrderProductDetail.saleOrderDetail.saleOrderHeader.referenceNumber|default }}</td>
                                    <td>{{ masterOrderProductDetail.saleOrderDetail.product.code|default }}</td>
                                    <td>{{ masterOrderProductDetail.saleOrderDetail.product.name|default }}</td>
                                    <td style="text-align:right">{{ masterOrderProductDetail.saleOrderDetail.product.length|default|number_format(0) }}</td>
                                    <td style="text-align:right">{{ masterOrderProductDetail.saleOrderDetail.product.width|default|number_format(0) }}</td>
                                    <td style="text-align:right">{{ masterOrderProductDetail.saleOrderDetail.product.height|default|number_format(0) }}</td>
                                    <td>{{ masterOrderProductDetail.saleOrderDetail.deliveryDate ? masterOrderProductDetail.saleOrderDetail.deliveryDate|date('d M Y') : '' }}</td>
                                    <td style="text-align:right">{{ masterOrderProductDetail.quantityOrder|default|number_format(0) }}</td>
                                    <td style="text-align:right">{{ masterOrderProductDetail.quantityStock|default|number_format(0) }}</td>
                                    <td style="text-align:right">{{ masterOrderProductDetail.quantityShortage|default|number_format(0) }}</td>
                                </tr>
                            {% endfor %}
                        </tbody>
                        <tfoot>
                            <tr>
                                <td style="text-align:right; font-weight: bold" colspan="7">TOTAL</td>
                                <td style="text-align:right; font-weight: bold">{{ masterOrderHeader.totalQuantityOrder|default|number_format(0) }}</td>
                                <td style="text-align:right; font-weight: bold">{{ masterOrderHeader.totalQuantityStock|default|number_format(0) }}</td>
                                <td style="text-align:right; font-weight: bold">{{ masterOrderHeader.totalQuantityShortage|default|number_format(0) }}</td>
                            </tr>
                        </tfoot>
                    </table>
                </div>
            </div>

            <h4><u>Kebutuhan Material Kertas</u></h4>
            <div class="table full">
                <div class="cell col">
                    <div class="table full">
                        <div class="row">
                            <div class="cell label">% Insit Print</div>
                            <div class="cell value">{{ masterOrderHeader.insitPrintingPercentage|default }}%</div>
                        </div>
                        <div class="row">
                            <div class="cell label">% Insit Sortir</div>
                            <div class="cell value">{{ masterOrderHeader.insitSortingPercentage|default }}%</div>
                        </div>
                        <div class="row">
                            <div class="cell label">Quantity Kertas</div>
                            <div class="cell value">{{ masterOrderHeader.quantityPaper|default }} Rim</div>
                        </div>
                        <div class="row">
                            <div class="cell label">Mountage Kertas</div>
                            <div class="cell value">{{ masterOrderHeader.paperMountage|default }} Up</div>
                        </div>
                        <div class="row">
                            <div class="cell label">Uk Kertas</div>
                            <div class="cell value">{{ masterOrderHeader.paperPlanoLength }} x {{ masterOrderHeader.paperPlanoWidth }} cm</div>
                        </div>
                        <div class="row">
                            <div class="cell label">Uk Potong 1</div>
                            <div class="cell value">{{ masterOrderHeader.cuttingLengthSize1 }} x {{ masterOrderHeader.cuttingWidthSize1 }} cm</div>
                        </div>
                        <div class="row">
                            <div class="cell label">Uk Potong 2</div>
                            <div class="cell value">{{ masterOrderHeader.cuttingLengthSize2 }} x {{ masterOrderHeader.cuttingWidthSize2 }} cm</div>
                        </div>
                    </div>
                </div>
                        
                <div class="cell col">
                    <div class="table full">
                        <div class="row">
                            <div class="cell label">Insit Cetak</div>
                            <div class="cell value">{{ masterOrderHeader.insitPrintingQuantity|default }} dreek</div>
                        </div>
                        <div class="row">
                            <div class="cell label">Insit Sortir</div>
                            <div class="cell value">{{ masterOrderHeader.insitSortingQuantity|default }} dreek</div>
                        </div>
                        <div class="row">
                            <div class="cell label">Kebutuhan</div>
                            <div class="cell value">{{ masterOrderHeader.paperRequirement|default }} dreek</div>
                        </div>
                        <div class="row">
                            <div class="cell label">Total Kertas</div>
                            <div class="cell value">{{ masterOrderHeader.paperTotal|default }} dreek</div>
                        </div>
                        <div class="row">
                            <div class="cell label">PO Kertas #</div>
                            <div class="cell value">{{ masterOrderHeader.purchaseOrderPaperHeader.getCodeNumber|default }}</div>
                        </div>
                        <div class="row">
                            <div class="cell label">Tanggal PO Kertas</div>
                            <div class="cell value">{{ masterOrderHeader.purchaseOrderPaperHeader.transactionDate|default ? masterOrderHeader.purchaseOrderPaperHeader.transactionDate|date('d M Y') : '' }}</div>
                        </div>
                        <div class="row">
                            <div class="cell label">Supplier</div>
                            <div class="cell value">{{ masterOrderHeader.purchaseOrderPaperHeader.supplier.company|default }}</div>
                        </div>
                    </div>
                </div>
            </div>
         
            <h4><u>Estimasi Tinta / Chemical</u></h4>
            <div class="table full">
                <div class="cell col">
                    <div class="table full">
                        <div class="row">
                            <div class="cell label">Cyan</div>
                            <div class="cell value">{{ masterOrderHeader.inkCyanPercentage }}% = {{ masterOrderHeader.inkCyanWeight }} kg</div>
                        </div>
                        <div class="row">
                            <div class="cell label">Magenta</div>
                            <div class="cell value">{{ masterOrderHeader.inkMagentaPercentage }}% = {{ masterOrderHeader.inkMagentaWeight }} kg</div>
                        </div>
                        <div class="row">
                            <div class="cell label">Yellow</div>
                            <div class="cell value">{{ masterOrderHeader.inkYellowPercentage }}% = {{ masterOrderHeader.inkYellowWeight }} kg</div>
                        </div>
                        <div class="row">
                            <div class="cell label">Black</div>
                            <div class="cell value">{{ masterOrderHeader.inkBlackPercentage }}% = {{ masterOrderHeader.inkBlackWeight }} kg</div>
                        </div>
                        <div class="row">
                            <div class="cell label">OPV/WB/UV</div>
                            <div class="cell value">{{ masterOrderHeader.inkOpvPercentage }}% = {{ masterOrderHeader.inkOpvWeight }} kg</div>
                        </div>
                        <div class="row">
                            <div class="cell label">Hot Stamping</div>
                            <div class="cell value">{{ masterOrderHeader.inkHotStampingSize }}% cm = {{ masterOrderHeader.inkHotStampingQuantity }} Roll</div>
                        </div>
                    </div>
                </div>
                        
                <div class="cell col">
                    <div class="table full">
                        <div class="row">
                            <div class="cell label">Khusus-1</div>
                            <div class="cell value">{{ masterOrderHeader.inkK1Color }} : {{ masterOrderHeader.inkK1Percentage }}% = {{ masterOrderHeader.inkK1Weight }} kg</div>
                        </div>
                        <div class="row">
                            <div class="cell label">Khusus-2</div>
                            <div class="cell value">{{ masterOrderHeader.inkK2Color }} : {{ masterOrderHeader.inkK2Percentage }}% = {{ masterOrderHeader.inkK2Weight }} kg</div>
                        </div>
                        <div class="row">
                            <div class="cell label">Khusus-3</div>
                            <div class="cell value">{{ masterOrderHeader.inkK3Color }} : {{ masterOrderHeader.inkK3Percentage }}% = {{ masterOrderHeader.inkK3Weight }} kg</div>
                        </div>
                        <div class="row">
                            <div class="cell label">Khusus-4</div>
                            <div class="cell value">{{ masterOrderHeader.inkK4Color }} : {{ masterOrderHeader.inkK4Percentage }}% = {{ masterOrderHeader.inkK4Weight }} kg</div>
                        </div>
                        <div class="row">
                            <div class="cell label">Laminating</div>
                            <div class="cell value">{{ masterOrderHeader.inkLaminatingSize }} cm = {{ masterOrderHeader.inkLaminatingQuantity }} roll</div>
                        </div>
                    </div>
                </div>
            </div>
         
            <h4><u>Estimasi Packaging</u></h4>
            <div class="table full">
                <div class="cell col">
                    <div class="table full">
                        <div class="row">
                            <div class="cell label">Lem</div>
                            <div class="cell value">{{ masterOrderHeader.packagingGlueQuantity }} cm/pcs = {{ masterOrderHeader.packagingGlueWeight }} kg</div>
                        </div>
                        <div class="row">
                            <div class="cell label">Karet</div>
                            <div class="cell value">{{ masterOrderHeader.packagingRubberQuantity }} pcs/ikat = {{ masterOrderHeader.packagingRubberWeight }} pcs</div>
                        </div>
                        <div class="row">
                            <div class="cell label">Kertas Packing</div>
                            <div class="cell value">{{ masterOrderHeader.packagingPaperQuantity }} pcs/pak = {{ masterOrderHeader.packagingPaperWeight }} lbr</div>
                        </div>
                        <div class="row">
                            <div class="cell label">Dus</div>
                            <div class="cell value">{{ masterOrderHeader.packagingBoxQuantity }} pcs/dus = {{ masterOrderHeader.packagingBoxWeight }} pcs</div>
                        </div>
                    </div>
                </div>
                        
                <div class="cell col">
                    <div class="table full">
                        <div class="row">
                            <div class="cell label">Lakban >besar</div>
                            <div class="cell value">{{ masterOrderHeader.packagingTapeLargeQuantity }} cm/pak (dus) = {{ masterOrderHeader.packagingTapeLargeSize }} roll</div>
                        </div>
                        <div class="row">
                            <div class="cell label">Lakban >kecil</div>
                            <div class="cell value">{{ masterOrderHeader.packagingTapeSmallQuantity }} cm/pak (dus) = {{ masterOrderHeader.packagingTapeSmallSize }} roll</div>
                        </div>
                        <div class="row">
                            <div class="cell label">Plastik</div>
                            <div class="cell value">{{ masterOrderHeader.packagingPlasticQuantity }} cm2/pack = {{ masterOrderHeader.packagingPlasticSize }} m2</div>
                        </div>
                    </div>
                </div>
            </div>    
            
            <br />

            <fieldset class="border border-secondary rounded mb-3 p-3">
                <div class="note">
                    <div class="table full">
                        <div class="cell col">
                            <div class="table full">
                                <div class="row">
                                    <table  class="detail">
                                        <thead>
                                            <tr>
                                                <th colspan="3">Urutan Proses</th>
                                            </tr>
                                            <tr>
                                                <th>No</th>
                                                <th>Proses</th>
                                                <th>Subcon</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            {% for masterOrderProcessDetail in masterOrderHeader.masterOrderProcessDetails %}
                                                <tr>
                                                    <td style="text-align: center; width: 5%">{{ loop.index }}</td>
                                                    <td>{{ masterOrderProcessDetail.workOrderProcess.name|default }}</td>
                                                    <td style="text-align: center">{{ masterOrderProcessDetail.isSubcon ? 'Yes' : 'No' }}</td>
                                                </tr>
                                            {% endfor %}
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </fieldset>
            <br />

            <fieldset class="border border-secondary rounded mb-3 p-3">
                <div class="note">
                    <div class="table full">
                        <div class="cell col">
                            <div class="table full">
                                <div class="row">
                                    <table class="detail">
                                        <thead>
                                            <tr>
                                                <th colspan="2">Distribusi WO</th>
                                            </tr>
                                            <tr>
                                                <th>WO</th>
                                                <th>Subcon</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            {% for masterOrderDistributionDetail in masterOrderHeader.masterOrderDistributionDetails %}
                                                <tr>
                                                    <td>{{ masterOrderDistributionDetail.workOrderDistribution.name|default }}</td>
                                                    <td style="text-align: center">{{ masterOrderDistributionDetail.isSubcon ? 'Yes' : 'No' }}</td>
                                                </tr>
                                            {% endfor %}
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                                        
                        <div class="cell col">
                            <div class="table full">
                                <div class="row">
                                    <table class="detail">
                                        <thead>
                                            <tr>
                                                <th colspan="2">Check Sheet</th>
                                            </tr>
                                            <tr>
                                                <th>Check Sheet</th>
                                                <th>Subcon</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            {% for masterOrderCheckSheetDetail in masterOrderHeader.masterOrderCheckSheetDetails %}
                                                <tr>
                                                    <td>{{ masterOrderCheckSheetDetail.workOrderCheckSheet.name|default }}</td>
                                                    <td style="text-align: center">{{ masterOrderCheckSheetDetail.isSubcon ? 'Yes' : 'No' }}</td>
                                                </tr>
                                            {% endfor %}
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </fieldset>
        </div>
        
        <div class="note">
            <div class="table full">
                <div class="cell col">
                    <div class="table full">
                        <div class="row">
                            <div class="cell label">Catatan (Buatkan Standar Produk)</div>
                            <div class="cell value">{{ masterOrderHeader.note|default }}</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
                        
        <div class="table full">
            <div class="cell sig ">
                <div>Disetujui oleh,</div>
                <div class="blank">&nbsp;</div>
                <div class="blank">&nbsp;</div>
                <div class="blank">&nbsp;</div>
                <div class="blank">&nbsp;</div>
                <div class="blank">&nbsp;</div>
                <div class="blank">&nbsp;</div>
                <div class="blank">&nbsp;</div>
                <div class="blank">Plant Manager</div>
            </div>
            <div class="cell sig">
                <div>Dibuat oleh,</div>
                <div class="blank">&nbsp;</div>
                <div class="blank">&nbsp;</div>
                <div class="blank">&nbsp;</div>
                <div class="blank">&nbsp;</div>
                <div class="blank">&nbsp;</div>
                <div class="blank">&nbsp;</div>
                <div class="blank">&nbsp;</div>
                <div>PPIC</div>
            </div>
        </div>
    </div>
{% endblock %}

{% block javascripts %}{% endblock %}

{% block stylesheets %}
    {{ encore_entry_link_tags('memo') }}
    <style>
        .col:nth-child(1) { width: 50% }
        .col:nth-child(2) { width: 50% }
        
        .col:nth-child(1) .label { width: 35% }
        .col:nth-child(1) .value { width: 65% }
        .col:nth-child(2) .label { width: 35% }
        .col:nth-child(2) .value { width: 65% }
        
        .sig:nth-child(1) { width: 50% }
        .sig:nth-child(2) { width: 50% }
    </style>
{% endblock %}